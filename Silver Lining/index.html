<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Silver Linen - Tailor Shop Management</title>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸ§µ Silver Linen</h1>
            <p>Professional Tailor Shop Management System</p>
        </div>

        <div class="nav-tabs">
            <button class="tab-button active" onclick="showTab('customers')">ðŸ‘¥ Customers</button>
            <button class="tab-button" onclick="showTab('orders')">ðŸ“‹ Orders</button>
            <button class="tab-button" onclick="showTab('payments')">ðŸ’° Payments</button>
            <button class="tab-button" onclick="showTab('reports')">ðŸ“Š Reports</button>
        </div>

        <!-- Customers Tab -->
        <div id="customers" class="tab-content active">
            <h2>Customer Management</h2>
            
            <div class="form-grid">
                <div class="card">
                    <h3>Add New Customer</h3>
                    <form id="customerForm">
                        <div class="form-group">
                            <label>Full Name</label>
                            <input type="text" id="customerName" required>
                        </div>
                        <div class="form-group">
                            <label>Phone Number</label>
                            <input type="tel" id="customerPhone" required>
                        </div>
                        <div class="form-group">
                            <label>Address</label>
                            <input type="text" id="customerAddress">
                        </div>
                        <div class="form-group">
                            <label>Style Preferences</label>
                            <textarea id="customerNotes" rows="2" placeholder="Preferred colors, styles, special requirements..."></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Add Customer</button>
                    </form>
                </div>

                <div class="card">
                    <h3>Customer Measurements</h3>
                    <div class="form-group">
                        <label>Select Customer</label>
                        <select id="measurementCustomer">
                            <option value="">Choose a customer...</option>
                        </select>
                    </div>
                    <div class="measurement-grid">
                        <div class="form-group">
                            <label>Chest (cm)</label>
                            <input type="number" id="chest" step="0.1">
                        </div>
                        <div class="form-group">
                            <label>Waist (cm)</label>
                            <input type="number" id="waist" step="0.1">
                        </div>
                        <div class="form-group">
                            <label>Hip (cm)</label>
                            <input type="number" id="hip" step="0.1">
                        </div>
                        <div class="form-group">
                            <label>Shoulder (cm)</label>
                            <input type="number" id="shoulder" step="0.1">
                        </div>
                        <div class="form-group">
                            <label>Arm Length (cm)</label>
                            <input type="number" id="armLength" step="0.1">
                        </div>
                        <div class="form-group">
                            <label>Height (cm)</label>
                            <input type="number" id="height" step="0.1">
                        </div>
                    </div>
                    <button type="button" class="btn btn-success" onclick="saveMeasurements()">Save Measurements</button>
                </div>
            </div>

            <div class="card">
                <h3>Customer List</h3>
                <input type="text" class="search-box" placeholder="Search customers..." onkeyup="searchCustomers(this.value)">
                <div id="customerList" class="customer-list"></div>
            </div>
        </div>

        <!-- Orders Tab -->
        <div id="orders" class="tab-content">
            <h2>Order Management</h2>
            
            <div class="form-grid">
                <div class="card">
                    <h3>Create New Order</h3>
                    <form id="orderForm">
                        <div class="form-group">
                            <label>Customer</label>
                            <select id="orderCustomer" required>
                                <option value="">Select customer...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Garment Type</label>
                            <select id="garmentType" required>
                                <option value="">Select garment...</option>
                                <option value="Suit">Suit</option>
                                <option value="Shirt">Shirt</option>
                                <option value="Trousers">Trousers</option>
                                <option value="Dress">Dress</option>
                                <option value="Kaftan">Kaftan</option>
                                <option value="Agbada">Agbada</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Total Price (FCFA)</label>
                            <input type="number" id="totalPrice" required>
                        </div>
                        <div class="form-group">
                            <label>Deadline</label>
                            <input type="date" id="deadline" required>
                        </div>
                        <div class="form-group">
                            <label>Special Instructions</label>
                            <textarea id="orderInstructions" rows="2"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Create Order</button>
                    </form>
                </div>
            </div>

            <div class="card">
                <h3>Active Orders</h3>
                <input type="text" class="search-box" placeholder="Search orders..." onkeyup="searchOrders(this.value)">
                <div id="orderList" class="order-list"></div>
            </div>
        </div>

        <!-- Payments Tab -->
        <div id="payments" class="tab-content">
            <h2>Payment Management</h2>
            
            <div class="form-grid">
                <div class="card">
                    <h3>Record Payment</h3>
                    <form id="paymentForm">
                        <div class="form-group">
                            <label>Order</label>
                            <select id="paymentOrder" required>
                                <option value="">Select order...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Payment Amount (FCFA)</label>
                            <input type="number" id="paymentAmount" required>
                        </div>
                        <div class="form-group">
                            <label>Payment Type</label>
                            <select id="paymentType" required>
                                <option value="Deposit">Deposit</option>
                                <option value="Balance">Balance</option>
                                <option value="Full Payment">Full Payment</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Payment Method</label>
                            <select id="paymentMethod" required>
                                <option value="Cash">Cash</option>
                                <option value="Mobile Money">Mobile Money</option>
                                <option value="Bank Transfer">Bank Transfer</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-success">Record Payment</button>
                    </form>
                </div>
            </div>

            <div class="card">
                <h3>Payment History</h3>
                <div id="paymentList"></div>
            </div>
        </div>

        <!-- Reports Tab -->
        <div id="reports" class="tab-content">
            <h2>Reports & Analytics</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalCustomers">0</div>
                    <div>Total Customers</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalOrders">0</div>
                    <div>Total Orders</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="pendingOrders">0</div>
                    <div>Pending Orders</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalRevenue">0</div>
                    <div>Total Revenue (FCFA)</div>
                </div>
            </div>

            <div class="export-section">
                <h3>Export Data</h3>
                <p>Download your business data for backup or external use.</p>
                <button class="btn btn-primary" onclick="exportData()">ðŸ“¥ Export All Data (JSON)</button>
                <button class="btn btn-secondary" onclick="printReport()">ðŸ–¨ Print Monthly Report</button>
            </div>
        </div>
    </div>
    <script>
        // Data storage
        let customers = JSON.parse(localStorage.getItem('customers') || '[]');
        let orders = JSON.parse(localStorage.getItem('orders') || '[]');
        let payments = JSON.parse(localStorage.getItem('payments') || '[]');
        let nextCustomerId = parseInt(localStorage.getItem('nextCustomerId') || '1');
        let nextOrderId = parseInt(localStorage.getItem('nextOrderId') || '1');

        // Tab Management
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });

            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');

            // Update data when switching tabs
            if (tabName === 'customers') {
                renderCustomers();
                updateCustomerDropdowns();
            } else if (tabName === 'orders') {
                renderOrders();
                updateOrderDropdowns();
            } else if (tabName === 'payments') {
                renderPayments();
                updatePaymentDropdowns();
            } else if (tabName === 'reports') {
                updateStats();
            }
        }


    </script>
</body>
</html>